<app-header></app-header>

<body>
    <!-- Information du compte -->
    <mat-expansion-panel>
        <mat-expansion-panel-header>
            <mat-panel-title>
                Information du compte
            </mat-panel-title>
        </mat-expansion-panel-header>
        <form [formGroup]="form">
            <mat-list>
                <mat-list-item>
                    <mat-form-field>
                        <input matInput placeholder="Nom" value="{{user.name}}" formControlName="name"
                            [readonly]="read">
                    </mat-form-field>
                </mat-list-item>
                <mat-list-item>
                    <mat-form-field>
                        <input matInput placeholder="Prenom" value="{{user.surname}}" formControlName="surname"
                            [readonly]="read">
                    </mat-form-field>
                </mat-list-item>
                <mat-list-item>
                    <mat-form-field>
                        <input matInput placeholder="Username" value="{{user.username}}" formControlName="username"
                            [readonly]="read">
                    </mat-form-field>
                </mat-list-item>
                <mat-list-item>
                    <mat-form-field>
                        <input matInput placeholder="Email" value="{{user.email}}" formControlName="email"
                            [readonly]="read">
                    </mat-form-field>
                </mat-list-item>
                <mat-list-item>
                    <mat-form-field>
                        <input matInput placeholder="Mot de passe" value="" formControlName="password"
                            [type]="hide ? 'password' : 'text'" [readonly]="read">
                        <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
                            [attr.aria-pressed]="hide">
                            <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                        </button>
                    </mat-form-field>
                </mat-list-item>
                <mat-divider></mat-divider>
                <mat-list-item>
                    <button *ngIf="read" mat-raised-button (click)="modifyAccount()" color="primary">Modifier</button>
                    <button *ngIf="!read" mat-raised-button (click)="modifyAccount()" color="primary">Mettre Ã 
                        jour</button>
                </mat-list-item>
            </mat-list>
        </form>

    </mat-expansion-panel>

    <!-- Historique -->
    <mat-expansion-panel>
        <mat-expansion-panel-header>
            <mat-panel-title>
                Historique des commandes
            </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-list>
            <mat-list-item *ngFor="let item of user.rental; last as last"></mat-list-item>
            <h4 mat-line>{{item}}</h4>
            <!-- <mat-divider [insert]="true" *ngIf="!last"></mat-divider> -->
        </mat-list>
    </mat-expansion-panel>
</body>